<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Raspberry Pi: Backup and NAS | tlake.io</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=generator content="Hugo 0.80.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link href=/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css rel=stylesheet><link rel=stylesheet href=/css/custom.css><meta property="og:title" content="Raspberry Pi: Backup and NAS"><meta property="og:description" content="As part of an effort to take back some amount of control of my own data from the cloud giants (unfortunately I&rsquo;m talking more about the Googles of the world and less about the gigantic humanoids situated near the top of the Ordning), one of the first tasks I wanted to tackle was just a simple, redundant storage solution for my data."><meta property="og:type" content="article"><meta property="og:url" content="http://tlake.io/blog/raspberry-pi-backup-and-nas/"><meta property="article:published_time" content="2019-12-07T10:07:06-08:00"><meta property="article:modified_time" content="2021-01-21T22:36:24-08:00"><meta itemprop=name content="Raspberry Pi: Backup and NAS"><meta itemprop=description content="As part of an effort to take back some amount of control of my own data from the cloud giants (unfortunately I&rsquo;m talking more about the Googles of the world and less about the gigantic humanoids situated near the top of the Ordning), one of the first tasks I wanted to tackle was just a simple, redundant storage solution for my data."><meta itemprop=datePublished content="2019-12-07T10:07:06-08:00"><meta itemprop=dateModified content="2021-01-21T22:36:24-08:00"><meta itemprop=wordCount content="1894"><meta itemprop=keywords content="raspberry pi,nas,backup,rsync,private cloud,privacy,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Raspberry Pi: Backup and NAS"><meta name=twitter:description content="As part of an effort to take back some amount of control of my own data from the cloud giants (unfortunately I&rsquo;m talking more about the Googles of the world and less about the gigantic humanoids situated near the top of the Ordning), one of the first tasks I wanted to tackle was just a simple, redundant storage solution for my data."></head><body class="ma0 bg-black-80 moon-gray avenir production"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">tlake.io</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/blog/ title="Blog page">Blog</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/cv/ title="Curriculum Vitae page">Curriculum Vitae</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/dnd/ title="D&D page">D&D</a></li></ul><a href=https://twitter.com/tanotaur target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://linkedin.com/in/tannerlake target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/tlake target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://gitlab.com/tannerlake target=_blank class="link-transition gitlab link dib z-999 pt3 pt0-l mr1" title="Gitlab link" rel=noopener aria-label="follow on Gitlab——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M29.782 199.732 256 493.714 8.074 309.699c-6.856-5.142-9.712-13.996-7.141-21.993l28.849-87.974zm75.405-174.806c-3.142-8.854-15.709-8.854-18.851.0L29.782 199.732h131.961L105.187 24.926zm56.556 174.806L256 493.714l94.257-293.982H161.743zm349.324 87.974-28.849-87.974L256 493.714l247.926-184.015c6.855-5.142 9.711-13.996 7.141-21.993zm-85.404-262.78c-3.142-8.854-15.709-8.854-18.851.0l-56.555 174.806h131.961L425.663 24.926z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">BLOG</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=http://tlake.io/blog/raspberry-pi-backup-and-nas/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=http://tlake.io/blog/raspberry-pi-backup-and-nas/&text=Raspberry%20Pi:%20Backup%20and%20NAS" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=http://tlake.io/blog/raspberry-pi-backup-and-nas/&title=Raspberry%20Pi:%20Backup%20and%20NAS" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">Raspberry Pi: Backup and NAS</h1><time class="f6 mv4 dib tracked" datetime=2019-12-07T10:07:06-08:00>December 7, 2019</time></header><div class="nested-copy-line-height lh-copy serif moon-gray f4 nested-links nested-img pr4-l w-two-thirds-l"><p>As part of an effort to take back some amount of control of my own data from the cloud giants (unfortunately I&rsquo;m talking more about the Googles of the world and less about the gigantic humanoids situated near the top of the <a href=https://forgottenrealms.fandom.com/wiki/Ordning_(social_structure)>Ordning</a>), one of the first tasks I wanted to tackle was just a simple, redundant storage solution for my data.</p><h2 id=the-ingredients>The Ingredients</h2><ul><li><p>Raspberry Pi 4</p><ul><li>good microSD card</li><li>case with fan</li><li>power cable with convenient on/off switch</li></ul></li><li><p>2 x 10TB USB hard drives (independent power supplies)</p></li></ul><h2 id=the-overview>The Overview</h2><p>The Raspberry Pi serves as the controller for two 10TB external hard drives connected via USB. One of these drives is a data drive, intended to be used and managed, and the other of these drives stores archival backup copies of the data drive. The Pi exposes the data drive as a NAS device via the NFS protocol on my local network. <code>cron</code> is used to schedule backups on a daily basis, and <code>rsync</code> is used to create the backups of the data drive with its <code>--link-dest</code> flag to minimize the storage footprint of individual backup archives by writing only the difference from the previous backup.</p><h2 id=the-process>The Process</h2><h3 id=1-make-the-pi-operational>1. Make the Pi Operational</h3><p>Before we can do much of anything, we have to get the Raspberry Pi up and running. There are a world of tutorials easy found by searching around on the internet, so I&rsquo;m only going to talk about some of the key points here.</p><p>For the operating system, I just downloaded the latest Raspbian Buster image from raspberrypi.org (update: Raspbian has become Raspberry Pi OS) and Balena Etcher, then used Etcher to flash the image onto a microSD card.</p><p>Before booting up the Pi for the first time, however, there are a couple of important things to do. First, I wrote a blank file called <code>ssh</code> into the <code>boot/</code> directory of the microSD card in order to enable SSH access from the get-go. This way I don&rsquo;t ever have to fuss with connecting a keyboard and display to the Pi - at least, as long as the Pi can automatically connect to my local network so I can look up its IP address from my router. I could connect it to the router manually with a cable, but I&rsquo;d rather pre-configure the Pi with my Wi-Fi information so I don&rsquo;t even have to do that.</p><p>To make that happen, we need to create a second file to add to the microSD card: it&rsquo;s called <code>wpa_supplicant.conf</code>, and it will also live within <code>boot/</code>. We need to add some information to this file, however, and it will look something like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>country<span style=color:#f92672>=</span>US
ctrl_interface<span style=color:#f92672>=</span>DIR<span style=color:#f92672>=</span>/var/run/wpa_supplicant GROUP<span style=color:#f92672>=</span>netdev
update_config<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>

network<span style=color:#f92672>={</span>
    ssid<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;WIFI_NAME_HERE&#34;</span>
        psk<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;WIFI_PASSWORD_HERE&#34;</span>
    key_mgmt<span style=color:#f92672>=</span>WPA-PSK
<span style=color:#f92672>}</span>
</code></pre></div><p>Of course, <code>WIFI_NAME_HERE</code> needs to be replaced with the name of your Wi-Fi network, and <code>WIFI_PASSWORD_HERE</code> needs to be replaced with the password used to connect to it.</p><p>With the <code>ssh</code> and <code>wpa_supplicant.conf</code> files in place, I can now insert the microSD card into the Pi and power the device on, and within a minute or so it should be up and on the network! I can find its local IP address from my router, and I can connect to it from another machine on the local network with <code>ssh pi@IP_ADDRESS_HERE</code> with the default password of <code>raspberry</code>.</p><h3 id=2-provision-the-pi-after-first-boot>2. Provision the Pi after First Boot</h3><p>Now that I can SSH into my Pi, there are some more things I want and need to do to make the environment better to work in. These are things like setting the hostname (I use a Dwarf Fortress name generator for identifying my Raspberry Pis - this NAS-and-backup Pi is called &ldquo;mansionsyrup&rdquo; for example), setting the locale and timezone, updating the aptitude package manager, installing Git, and pulling down some of my own customized dotfiles (.bashrc, .bash_profile, etc) from a Git repository.</p><p>And because I experiment with my Pis a bunch, I&rsquo;ve needed to do this whole from-zero process over a dozen times, so I&rsquo;ve wrapped this provisioning process up into a little bash script called <code>first_boot.bash</code> which looks something like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/bin/bash
</span><span style=color:#75715e></span>
RPI_HOSTNAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mansionsyrup&#34;</span>
set -e

<span style=color:#66d9ef>function</span> setHostname<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        echo <span style=color:#e6db74>&#34;SETTING HOSTNAME&#34;</span>

        echo <span style=color:#e6db74>&#34;echo \&#34;</span><span style=color:#e6db74>${</span>RPI_HOSTNAME<span style=color:#e6db74>}</span><span style=color:#e6db74>\&#34; | sudo tee /etc/hostname &gt; /dev/null&#34;</span>
        echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>RPI_HOSTNAME<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> | sudo tee /etc/hostname &gt; /dev/null

        echo <span style=color:#e6db74>&#34;sudo sed -i \&#34;s/raspberrypi\$/</span><span style=color:#e6db74>${</span>RPI_HOSTNAME<span style=color:#e6db74>}</span><span style=color:#e6db74>/g\&#34; /etc/hosts&#34;</span>
        sudo sed -i <span style=color:#e6db74>&#34;s/raspberrypi\$/</span><span style=color:#e6db74>${</span>RPI_HOSTNAME<span style=color:#e6db74>}</span><span style=color:#e6db74>/g&#34;</span> /etc/hosts

        echo <span style=color:#e6db74>&#34;HOSTNAME SET. REBOOT NOW.&#34;</span>
        exit <span style=color:#ae81ff>0</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>function</span> configureLocale<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        echo <span style=color:#e6db74>&#34;CONFIGURING LOCALE&#34;</span>

        KEYMAP<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;us&#34;</span>
        LOCALE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;en_US.UTF-8&#34;</span>
        TIMEZONE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;America/Los_Angeles&#34;</span>

        echo <span style=color:#e6db74>&#34;Setting locale...&#34;</span>

        awk <span style=color:#e6db74>&#39;$0 &amp;&amp; $0 !~ /^#/ {printf &#34;# &#34;}1&#39;</span> /etc/locale.gen | sudo tee /etc/locale.gen &gt; /dev/null
        sudo sed -i <span style=color:#e6db74>&#34;s/# </span><span style=color:#e6db74>${</span>LOCALE<span style=color:#e6db74>}</span><span style=color:#e6db74>/</span><span style=color:#e6db74>${</span>LOCALE<span style=color:#e6db74>}</span><span style=color:#e6db74>/&#34;</span> /etc/locale.gen

        sudo locale-gen

        echo <span style=color:#e6db74>&#34;LANG=en_US.UTF-8&#34;</span> | sudo tee /etc/default/locale &gt; /dev/null
        echo <span style=color:#e6db74>&#34;LC_ALL=en_US.UTF-8&#34;</span> | sudo tee -a /etc/default/locale &gt; /dev/null
        echo <span style=color:#e6db74>&#34;LANGUAGE=en_US.UTF-8&#34;</span> | sudo tee -a /etc/default/locale &gt; /dev/null
        sudo update-locale

        echo <span style=color:#e6db74>&#34;Setting keyboard...&#34;</span>

        sudo sed -i /etc/default/keyboard -e <span style=color:#e6db74>&#34;s/^XKBLAYOUT.*/XKBLAYOUT=\&#34;</span>$KEYMAP<span style=color:#e6db74>\&#34;/&#34;</span>
        sudo dpkg-reconfigure -f noninteractive keyboard-configuration
        sudo invoke-rc.d keyboard-setup start
        sudo setsid sh -c <span style=color:#e6db74>&#39;exec setupcon -k --force &lt;&gt; /dev/tty1 &gt;&amp;0 2&gt;&amp;1&#39;</span>
        sudo udevadm trigger --subsystem-match<span style=color:#f92672>=</span>input --action<span style=color:#f92672>=</span>change

        <span style=color:#75715e># Change timezone</span>

        sudo echo <span style=color:#e6db74>&#34;Setting timezone...&#34;</span>
        sudo rm /etc/localtime
        echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>TIMEZONE<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> | sudo tee /etc/timezone &gt; /dev/null
        sudo dpkg-reconfigure -f noninteractive tzdata
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>function</span> refreshApt<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        echo <span style=color:#e6db74>&#34;REFFRESHING APT&#34;</span>

        echo <span style=color:#e6db74>&#34;sudo apt update&#34;</span>
        sudo apt update

        echo <span style=color:#e6db74>&#34;sudo apt upgrade -y&#34;</span>
        sudo apt upgrade -y
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>function</span> installGit<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        echo <span style=color:#e6db74>&#34;INSTALLING GIT&#34;</span>

        echo <span style=color:#e6db74>&#34;sudo apt install -y git&#34;</span>
        sudo apt install -y git
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>function</span> installDotfiles<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        echo <span style=color:#e6db74>&#34;INSTALLING DOTFILES&#34;</span>

        echo <span style=color:#e6db74>&#34;git clone https://github.com/tlake/dotfiles </span><span style=color:#e6db74>${</span>HOME<span style=color:#e6db74>}</span><span style=color:#e6db74>/dotfiles&#34;</span>
        git clone https://github.com/tlake/dotfiles <span style=color:#e6db74>${</span>HOME<span style=color:#e6db74>}</span>/dotfiles

        echo <span style=color:#e6db74>&#34;cd </span><span style=color:#e6db74>${</span>HOME<span style=color:#e6db74>}</span><span style=color:#e6db74>/dotfiles&#34;</span>
        cd <span style=color:#e6db74>${</span>HOME<span style=color:#e6db74>}</span>/dotfiles

        echo <span style=color:#e6db74>&#34;chmod +x install&#34;</span>
        chmod +x install

        echo <span style=color:#e6db74>&#34;./install -c raspbian_buster.conf.yaml&#34;</span>
        ./install -c raspbian_buster.conf.yaml

        echo <span style=color:#e6db74>&#34;source ~/.bashrc&#34;</span>
        source ~/.bashrc

        echo <span style=color:#e6db74>&#34;cd -&#34;</span>
        cd -
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>function</span> run<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
        cat /etc/hostname | fgrep -q <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>RPI_HOSTNAME<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>||</span> setHostname
        configureLocale
        refreshApt
        installGit
        installDotfiles
<span style=color:#f92672>}</span>

<span style=color:#75715e># print help if called with no args</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> $# -eq <span style=color:#ae81ff>0</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
        echo <span style=color:#e6db74>&#34;To see the different functions this script has, inspect the script.&#34;</span>
        echo <span style=color:#e6db74>&#34;To run the full script, call it again with &#39;run&#39; as its only argument.&#34;</span>
        exit <span style=color:#ae81ff>0</span>
<span style=color:#66d9ef>fi</span>

<span style=color:#75715e># check if the function exists</span>
<span style=color:#66d9ef>if</span> declare -f <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> &gt; /dev/null; <span style=color:#66d9ef>then</span>
    <span style=color:#75715e># call arguments verbatim</span>
    <span style=color:#e6db74>&#34;</span>$@<span style=color:#e6db74>&#34;</span>
<span style=color:#66d9ef>else</span>
    <span style=color:#75715e># show error</span>
    echo <span style=color:#e6db74>&#34;&#39;</span>$1<span style=color:#e6db74>&#39; is not a valid function name.&#34;</span> &gt;&amp;<span style=color:#ae81ff>2</span>
    exit <span style=color:#ae81ff>1</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><p>The script is executed by running <code>./first_boot.bash run</code>, and it prompts for a reboot after setting the hostname. After that reboot, the script can just be run the same way again.</p><h3 id=3-set-up-and-configure-the-backup-system>3. Set Up and Configure the Backup System</h3><p>There are four components that make the NAS and backup system work:</p><ul><li><code>autofs</code>, a tool for automatically mounting directories on an as-needed basis</li><li><code>nfs</code>, a protocol that allows a client machine to access files over the network</li><li><code>rsync</code>, the tool we&rsquo;ll use for making the backups</li><li><code>cron</code>, a scheduling tool</li></ul><h4 id=autofs>Autofs</h4><p>First, I need to create a mount point for each of the two USB drives (I chose <code>/nas/data</code> and <code>/nas/backup</code>):</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$: sudo mkdir -p /nas/data /nas/backup
</code></pre></div><p><code>autofs</code> can be installed using apt:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$: sudo apt install --yes autofs
</code></pre></div><p>Then I need to configure it by adding a line for each of the two USB drives to the <code>/etc/auto.usb</code> file. Devices can be targeted by their label, so this probably a good time to connect the drives up to a computer for formatting (I used the <code>ext4</code> filesystem) and labelling (I named them <code>data</code> and <code>backup</code>, naturally). I also know I&rsquo;ll want these drives to be readable and writable when they&rsquo;re mounted, so the lines written into <code>/etc/auto.usb</code> should look like these:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>data -fstype=ext4,rw :/dev/disk/by-label/data
backup -fstype=ext4,rw :/dev/disk/by-label/backup
</code></pre></div><p><code>autofs</code>&rsquo;s master configuration file needs to be told about this <code>auto.usb</code> file, so I need to add this line to <code>/etc/auto.master</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>/nas /etc/auto.usb --timeout=0
</code></pre></div><p>Finally, I&rsquo;ll run the following command to restart the <code>autofs</code> service to register the new changes:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$: sudo systemctl restart autofs.service
</code></pre></div><p>and enable the service so that it starts up and runs automatically after the Pi boots up:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$: sudo systemctl enable autofs.service
</code></pre></div><p>Now I can access <code>/nas/data/</code> or <code>/nas/backup/</code> from the Pi and if the USB drives aren&rsquo;t already mounted, <code>autofs</code> will automatically mount them for me.</p><h4 id=nfs>NFS</h4><p>The next step is to expose the data drive over the network as an NFS share. To start, I install the NFS server for the Pi to use:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$: sudo apt install --yes nfs-kernel-server
</code></pre></div><p>Then I can define the export of the data drive within the <code>/etc/exports</code> file. There are several options that I&rsquo;ll want to supply:</p><ul><li><code>rw</code>, because I want the drive to be readable and writable</li><li><code>sync</code>, because I want the NFS server to reply to requests only after changes have been committed to stable storage</li><li><code>no_subtree_check</code>, because I value the small reliability increase of safeguarding against filename changes upon an open file over the small security increase of <code>subtree_check</code></li><li><code>root_squash</code>, because a client root user should not be the same as the root user on the Pi</li></ul><p>The line added to <code>/etc/exports</code>, then, looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>/nas/data *(rw,sync,no_subtree_check,root_squash)
</code></pre></div><p>And I run the following command to update the system&rsquo;s export table file:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$: sudo exportfs -a
</code></pre></div><p>Finally, as with the <code>autofs</code> service, I want to restart the <code>nfs-kernel-server</code> service and enable it upon boot:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$: sudo systemctl restart nfs-kernel-server
$: sudo systemctl enable nfs-kernel-server
</code></pre></div><p>Now, from other machines on my network, I can mount and access the data drive over the network with a command that looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$: sudo mount mansionsyrup:/nas/data /nas/data
</code></pre></div><p>provided that the following two things are true for these other machines:</p><ol><li>An IP-address-to-hostname mapping has been created for &ldquo;mansionsyrup&rdquo; in the other machine&rsquo;s <code>/etc/hosts</code> file.</li><li>The other machine has created the <code>/nas/data</code> directory to allow a device to be mounted there.</li></ol><h4 id=backup>Backup</h4><p>The heart of the backup system is a tool called <code>rsync</code>, and the command that does all the heavy lifting is as follows:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>rsync -ah --stats --log-file<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>LOGFILE<span style=color:#e6db74>}</span> --link-dest <span style=color:#e6db74>${</span>LASTDAYPATH<span style=color:#e6db74>}</span> <span style=color:#e6db74>${</span>DATADIR<span style=color:#e6db74>}</span> <span style=color:#e6db74>${</span>TODAYPATH<span style=color:#e6db74>}</span>
</code></pre></div><p>Information on the <code>rsync</code> command is probably best discovered in its <a href=https://linux.die.net/man/1/rsync>man page</a>, but let&rsquo;s take a bit of a closer look at this command.</p><ul><li><code>-a, --archive</code>: a shorthand flag that recurses into subdirectories and backs up most of everything.</li><li><code>-h, --human-readable</code>: use kind-to-human numbers.</li><li><code>--stats</code>: display some transfer stats, useful when logging output.</li><li><code>--log-file=${LOGFILE}</code>: write the output of rsync to the file specified in the <code>LOGFILE</code> var.</li><li><code>--link-dest ${LASTDAYPATH}</code>: compare the files to be copied to those in the <code>LASTDAYPATH</code> var; by setting <code>LASTDAYPATH</code> to the most recent backup, rsync will only copy files that are new or different from the previous backup.</li><li><code>${DATADIR}</code>: the location of the directory that we want to recursively backup, defined in the <code>DATADIR</code> var.</li><li><code>${TODAYPATH}</code>: the location to which the backup files will be copied, defined in the <code>TODAYPATH</code> var.</li></ul><p>I&rsquo;ve wrapped up my backup process into a series of bash scripts. The heart script, the one that runs the above command, is named <code>daily_backup.bash</code>, defines the necessary variables, and automatically timestamps the new backup. It looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/bin/bash
</span><span style=color:#75715e></span>
TODAY<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>date +%Y-%m-%d<span style=color:#66d9ef>)</span>

LOGPATH<span style=color:#f92672>=</span>/var/tmp/nas_backup_logs/<span style=color:#e6db74>${</span>TODAY<span style=color:#e6db74>}</span>
LOGNAME<span style=color:#f92672>=</span>rsync_backup
LOGFILE<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>LOGPATH<span style=color:#e6db74>}</span>/<span style=color:#e6db74>${</span>LOGNAME<span style=color:#e6db74>}</span>

DATADIR<span style=color:#f92672>=</span>/nas/data
BACKUPDIR<span style=color:#f92672>=</span>/nas/backup

LASTDAYPATH<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>BACKUPDIR<span style=color:#e6db74>}</span>/<span style=color:#66d9ef>$(</span>ls <span style=color:#e6db74>${</span>BACKUPDIR<span style=color:#e6db74>}</span> | tail -n 1<span style=color:#66d9ef>)</span>
TODAYPATH<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>BACKUPDIR<span style=color:#e6db74>}</span>/<span style=color:#e6db74>${</span>TODAY<span style=color:#e6db74>}</span>

<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> ! -e <span style=color:#e6db74>${</span>TODAYPATH<span style=color:#e6db74>}</span> <span style=color:#f92672>]]</span> ; <span style=color:#66d9ef>then</span>
    mkdir -p <span style=color:#e6db74>${</span>TODAYPATH<span style=color:#e6db74>}</span>
<span style=color:#66d9ef>fi</span>

rsync -ah --stats --log-file<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>LOGFILE<span style=color:#e6db74>}</span> --link-dest <span style=color:#e6db74>${</span>LASTDAYPATH<span style=color:#e6db74>}</span> <span style=color:#e6db74>${</span>DATADIR<span style=color:#e6db74>}</span> <span style=color:#e6db74>${</span>TODAYPATH<span style=color:#e6db74>}</span>
</code></pre></div><p>I also want a way to prune certain old backups, and found some bash kicking around the internet that suited my needs. That&rsquo;s wrapped up in another <code>delete_old_backups.bash</code> script, and makes use of some cool natural language processing inherent in the <code>date</code> command to filter backups and target ones that are appropriate for deletion.</p><h4 id=cron>Cron</h4><ul class=pa0><li class=list><a href=/tags/raspberry-pi class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">raspberry pi</a></li><li class=list><a href=/tags/nas class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">nas</a></li><li class=list><a href=/tags/backup class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">backup</a></li><li class=list><a href=/tags/rsync class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">rsync</a></li><li class=list><a href=/tags/private-cloud class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">private cloud</a></li><li class=list><a href=/tags/privacy class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">privacy</a></li></ul><div class="mt6 instapaper_ignoref"><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"tlake-io"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><aside class="w-30-l mt6-l"><div class="bg-near-black pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">What's in this blog</p><nav id=TableOfContents><ul><li><a href=#the-ingredients>The Ingredients</a></li><li><a href=#the-overview>The Overview</a></li><li><a href=#the-process>The Process</a><ul><li><a href=#1-make-the-pi-operational>1. Make the Pi Operational</a></li><li><a href=#2-provision-the-pi-after-first-boot>2. Provision the Pi after First Boot</a></li><li><a href=#3-set-up-and-configure-the-backup-system>3. Set Up and Configure the Backup System</a></li></ul></li></ul></nav></div></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://tlake.io>&copy; tlake.io 2021</a><div><a href=https://twitter.com/tanotaur target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://linkedin.com/in/tannerlake target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/tlake target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://gitlab.com/tannerlake target=_blank class="link-transition gitlab link dib z-999 pt3 pt0-l mr1" title="Gitlab link" rel=noopener aria-label="follow on Gitlab——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M29.782 199.732 256 493.714 8.074 309.699c-6.856-5.142-9.712-13.996-7.141-21.993l28.849-87.974zm75.405-174.806c-3.142-8.854-15.709-8.854-18.851.0L29.782 199.732h131.961L105.187 24.926zm56.556 174.806L256 493.714l94.257-293.982H161.743zm349.324 87.974-28.849-87.974L256 493.714l247.926-184.015c6.855-5.142 9.711-13.996 7.141-21.993zm-85.404-262.78c-3.142-8.854-15.709-8.854-18.851.0l-56.555 174.806h131.961L425.663 24.926z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></footer><script src=/dist/js/app.3fc0f988d21662902933.js></script></body></html>